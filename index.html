<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Meta Tags para WhatsApp/Facebook -->
    <meta property="og:title" content="¡Fiesta de Cumpleaños de Kanzu Ozlem!">
    <meta property="og:description" content="Te invito a celebrar mis 9 años. ¡Va a ser muy divertido!">
    <meta property="og:image" content="https://viclop-4ever.github.io/kanzu/imagekz1.jpg">
    <meta property="og:url" content="https://viclop-4ever.github.io/kanzu/">
    <meta property="og:type" content="website">

    <!-- Para WhatsApp específicamente -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="viclop-4ever.github.io">
    <meta property="twitter:url" content="https://viclop-4ever.github.io/kanzu/">
    <meta name="twitter:title" content="¡Fiesta de Cumpleaños de Kanzu Ozlem!">
    <meta name="twitter:description" content="Te invito a celebrar mis 9 años. ¡Va a ser muy divertido!">
    <meta name="twitter:image" content="https://viclop-4ever.github.io/kanzu/imagekz1.jpg">

    <title>¡Kanzu Ozlem!</title>
    <!-- Favicon -->
    <link rel="icon" href="k.ico" type="image/x-icon">
    <link rel="shortcut icon" href="k.ico" type="image/x-icon">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Bubblegum+Sans&family=Nunito:wght@400;600;700&display=swap"
        rel="stylesheet">
    <style>
        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-20px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }

        .spinning {
            animation: spin 20s linear infinite;
        }

        .bouncing {
            animation: bounce 2s ease-in-out infinite;
        }

        .fade-in {
            animation: fadeIn 1.5s ease-out forwards;
        }

        .bg-pastel-blue {
            background-color: #E6F7FF;
        }

        .font-bubblegum {
            font-family: 'Bubblegum Sans', cursive;
        }

        .font-nunito {
            font-family: 'Nunito', sans-serif;
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.6);
            animation: float 4s ease-in-out infinite;
            z-index: 0;
        }

        /* Nuevas animaciones para estrellas */
        @keyframes floatHorizontal {
            0% {
                transform: translateX(0) translateY(0);
            }

            25% {
                transform: translateX(50px) translateY(-20px);
            }

            50% {
                transform: translateX(100px) translateY(0);
            }

            75% {
                transform: translateX(50px) translateY(20px);
            }

            100% {
                transform: translateX(0) translateY(0);
            }
        }

        @keyframes floatDiagonal {
            0% {
                transform: translate(0, 0);
            }

            50% {
                transform: translate(80px, -40px);
            }

            100% {
                transform: translate(0, 0);
            }
        }

        @keyframes floatRandom {
            0% {
                transform: translate(0, 0);
            }

            25% {
                transform: translate(40px, -30px);
            }

            50% {
                transform: translate(20px, 20px);
            }

            75% {
                transform: translate(-30px, 10px);
            }

            100% {
                transform: translate(0, 0);
            }
        }

        .star {
            position: absolute;
            z-index: 1;
            opacity: 0.8;
        }

        @keyframes float-and-spin {

            0%,
            100% {
                transform: translateY(0) rotate(0deg) scale(1);
                box-shadow: 0 5px 15px rgba(244, 114, 182, 0.4);
            }

            25% {
                transform: translateY(-8px) rotate(2deg) scale(1.05);
                box-shadow: 0 8px 20px rgba(244, 114, 182, 0.6);
            }

            50% {
                transform: translateY(0) rotate(0deg) scale(1);
                box-shadow: 0 5px 15px rgba(244, 114, 182, 0.4);
            }

            75% {
                transform: translateY(-5px) rotate(-2deg) scale(1.03);
                box-shadow: 0 7px 18px rgba(244, 114, 182, 0.5);
            }
        }

        @keyframes spin-slow {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes spin-reverse {
            from {
                transform: rotate(360deg);
            }

            to {
                transform: rotate(0deg);
            }
        }

        .animate-float-and-spin {
            animation: float-and-spin 4s ease-in-out infinite;
        }

        .animate-spin-slow {
            animation: spin-slow 8s linear infinite;
        }

        .animate-spin-reverse {
            animation: spin-reverse 10s linear infinite;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-100 to-pink-100 min-h-screen font-nunito overflow-x-hidden">
    <!-- Burbujas animadas de fondo -->
    <div id="bubbles" class="fixed inset-0 z-0 overflow-hidden"></div>

    <!-- Estrellas flotantes -->
    <div id="stars-container" class="fixed inset-0 z-0">
        <div class="absolute top-1/4 left-1/5 w-12 h-12 floating" style="animation-delay: 0.5s;">
            <svg viewBox="0 0 24 24" class="w-full h-full fill-yellow-300">
                <path
                    d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" />
            </svg>
        </div>
        <div class="absolute top-1/3 right-1/4 w-8 h-8 floating" style="animation-delay: 1.2s;">
            <svg viewBox="0 0 24 24" class="w-full h-full fill-pink-300">
                <path
                    d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" />
            </svg>
        </div>
        <div class="absolute bottom-1/4 left-1/3 w-10 h-10 floating" style="animation-delay: 0.8s;">
            <svg viewBox="0 0 24 24" class="w-full h-full fill-blue-300">
                <path
                    d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" />
            </svg>
        </div>
        <div class="absolute bottom-1/3 right-1/5 w-14 h-14 floating" style="animation-delay: 1.5s;">
            <svg viewBox="0 0 24 24" class="w-full h-full fill-purple-300">
                <path
                    d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" />
            </svg>
        </div>
    </div>

    <div class="container mx-auto px-4 py-12 relative z-10">
        <!-- Encabezado de invitación -->
        <div class="text-center mb-8 transform transition-all duration-1000 hover:scale-105 fade-in"
            style="animation-delay: 0.3s;">
            <h1 class="text-4xl md:text-6xl font-bubblegum text-pink-500 drop-shadow-lg mb-2">¡Mi Fiesta de Cumpleaños!
            </h1>
            <p class="text-xl md:text-2xl text-blue-500 font-bold">Te invito a celebrar mis 9 años</p>
        </div>

        <!-- Personaje principal -->
        <div class="flex justify-center mb-12 fade-in" style="animation-delay: 0.6s;">
            <div class="relative">
                <img src="300.png" alt="Cinnamoroll"
                    class="w-48 md:w-64 bouncing rounded-full border-4 border-blue-300 shadow-xl">

                <div class="absolute -bottom-3 -right-3">
                    <div class="relative w-20 h-20">
                        <!-- Base circular con animación de flotar -->
                        <div class="absolute inset-0 bg-gradient-to-br from-pink-400 to-pink-300 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-xl animate-float-and-spin transform-gpu"
                            style="animation-duration: 4s;">
                            Kanzú
                        </div>

                        <!-- Estrellas giratorias alrededor -->
                        <div class="absolute -top-2 -left-2 w-5 h-5 text-yellow-300 animate-spin-slow"
                            style="animation-duration: 8s;">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" />
                            </svg>
                        </div>
                        <div class="absolute -bottom-2 -right-2 w-4 h-4 text-pink-200 animate-spin-reverse"
                            style="animation-duration: 10s;">
                            <svg viewBox="0 0 24 24">
                                <path
                                    d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z" />
                            </svg>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Detalles de la fiesta -->
        <div class="bg-white bg-opacity-80 rounded-3xl shadow-xl p-6 md:p-8 max-w-2xl mx-auto mb-12 transform transition-all duration-500 hover:shadow-2xl fade-in"
            style="animation-delay: 0.9s;">
            <div class="flex flex-col md:flex-row items-center mb-6">
                <div class="flex-1">
                    <h2 class="text-2xl md:text-3xl font-bubblegum text-blue-500 mb-4">¿Cuándo y Dónde?</h2>
                    <ul class="space-y-3 text-lg">
                        <li class="flex items-center">
                            <svg class="w-6 h-6 mr-2 text-pink-500" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                                </path>
                            </svg>
                            <span>Sábado, 19 de Abril de 2025</span>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-6 h-6 mr-2 text-pink-500" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <span>3:00 PM</span>
                        </li>
                        <li class="flex items-center">
                            <svg class="w-6 h-6 mr-2 text-pink-500" fill="none" stroke="currentColor"
                                viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                                </path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                            <span>Jr. Bolognesi 475 - Rioja</span>
                        </li>
                    </ul>
                </div>
                <div id="map" class="w-full h-48 md:w-48 md:h-48 mt-4 md:mt-0 rounded-xl shadow-md"></div>

                <!-- Modal para el mapa grande (nuevo) -->
                <div id="map-modal"
                    class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-50 p-4">
                    <div class="relative bg-white rounded-xl shadow-2xl max-w-4xl w-full h-96 md:h-[80vh]">
                        <button onclick="closeMapModal()"
                            class="absolute -top-3 -right-3 bg-pink-500 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg z-10 hover:bg-pink-600 transition-colors duration-300">
                            ✕
                        </button>
                        <div id="large-map" class="w-full h-full rounded-xl"></div>
                    </div>
                </div>

            </div>

            <!-- Contador regresivo -->
            <div class="py-4">
                <h3 class="text-xl text-center font-bold text-pink-500 mb-3">¡Cuenta regresiva para la fiesta!</h3>
                <div class="grid grid-cols-4 gap-2 text-center">
                    <div class="bg-blue-100 rounded-lg p-2">
                        <div id="days" class="text-2xl md:text-3xl font-bold text-blue-600">00</div>
                        <div class="text-xs md:text-sm text-blue-500">Días</div>
                    </div>
                    <div class="bg-pink-100 rounded-lg p-2">
                        <div id="hours" class="text-2xl md:text-3xl font-bold text-pink-600">00</div>
                        <div class="text-xs md:text-sm text-pink-500">Horas</div>
                    </div>
                    <div class="bg-purple-100 rounded-lg p-2">
                        <div id="minutes" class="text-2xl md:text-3xl font-bold text-purple-600">00</div>
                        <div class="text-xs md:text-sm text-purple-500">Minutos</div>
                    </div>
                    <div class="bg-blue-100 rounded-lg p-2">
                        <div id="seconds" class="text-2xl md:text-3xl font-bold text-blue-600">00</div>
                        <div class="text-xs md:text-sm text-blue-500">Segundos</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fotos decorativas -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12 fade-in" style="animation-delay: 1.5s;">
            <div class="cursor-pointer" onclick="openImageModal('palomitas1.jpeg')">
                <img src="palomitas1.jpeg" alt="Decoración"
                    class="w-full h-32 object-cover rounded-lg shadow-md transform transition hover:scale-105 duration-300">
            </div>
            <div class="cursor-pointer" onclick="openImageModal('palomitas2.jpeg')">
                <img src="palomitas2.jpeg" alt="Decoración"
                    class="w-full h-32 object-cover rounded-lg shadow-md transform transition hover:scale-105 duration-300">
            </div>
            <div class="cursor-pointer" onclick="openImageModal('palomitas3.jpeg')">
                <img src="palomitas3.jpeg" alt="Decoración"
                    class="w-full h-32 object-cover rounded-lg shadow-md transform transition hover:scale-105 duration-300">
            </div>
            <div class="cursor-pointer" onclick="openImageModal('palomitas4.jpeg')">
                <img src="palomitas4.jpeg" alt="Decoración"
                    class="w-full h-32 object-cover rounded-lg shadow-md transform transition hover:scale-105 duration-300">
            </div>
        </div>

        <!-- Mensaje final -->
        <div class="text-center mb-8 fade-in" style="animation-delay: 1.8s;">
            <h2 class="text-2xl md:text-3xl font-bubblegum text-blue-600 mb-2">¡Te espero en mi fiesta!</h2>
            <p class="text-lg text-pink-500">Va a ser muy divertido</p>
        </div>
    </div>

    <!-- Modal para imágenes ampliadas -->
    <div id="image-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black bg-opacity-90 p-4">
        <div class="relative max-w-4xl w-full max-h-[90vh]">
            <button onclick="closeImageModal()"
                class="absolute -top-10 right-0 sm:-top-12 sm:-right-12 bg-pink-500 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg z-10 hover:bg-pink-600 transition-colors duration-300">
                ✕
            </button>
            <img id="modal-image" src="" alt="Imagen ampliada" class="w-full h-full object-contain rounded-lg">
        </div>
    </div>

    <!-- Botón de control de audio - Mejorado -->
    <div id="audioControl" class="fixed bottom-4 right-4 bg-pink-500 text-white p-4 rounded-full cursor-pointer shadow-lg z-50 
            active:scale-95 active:bg-pink-600 transition-transform
            animate-bounce hover:animate-none flex items-center">
        <span id="audioIcon">🔇</span>
        <span id="audioText" class="ml-2">Activar música</span>
    </div>

    <!-- Audio -->
    <audio id="fiestaAudio" loop style="display:none;">
        <source src="Kanzu_esta_feliz.mp3" type="audio/mpeg">
        <source src="Kanzu_esta_feliz.ogg" type="audio/ogg">
    </audio>

    <script>
        // Crear burbujas animadas
        function createBubbles() {
            const bubbles = document.getElementById('bubbles');
            const width = window.innerWidth;
            const height = window.innerHeight;

            for (let i = 0; i < 20; i++) {
                const bubble = document.createElement('div');
                const size = Math.random() * 60 + 20;
                const left = Math.random() * 100;
                const animDuration = Math.random() * 10 + 10;
                const animDelay = Math.random() * 5;

                bubble.classList.add('bubble');
                bubble.style.width = `${size}px`;
                bubble.style.height = `${size}px`;
                bubble.style.left = `${left}%`;
                bubble.style.bottom = `-${size}px`;
                bubble.style.animationDuration = `${animDuration}s`;
                bubble.style.animationDelay = `${animDelay}s`;
                bubble.style.opacity = Math.random() * 0.3 + 0.1;

                bubbles.appendChild(bubble);
            }
        }
        const GOOGLE_MAPS_API_KEY = "AIzaSyCxL-bs2MC3rI5q6ttbPCB62ndVUYUtvVo";
        // Crear estrellas animadas
        function createStars() {
            const container = document.getElementById('stars-container');
            const starColors = ['text-yellow-300', 'text-pink-300', 'text-blue-300', 'text-purple-300'];
            const animations = ['float', 'floatHorizontal', 'floatDiagonal', 'floatRandom'];

            for (let i = 0; i < 12; i++) {
                const star = document.createElement('div');
                const size = Math.random() * 20 + 10;
                const left = Math.random() * 100;
                const top = Math.random() * 100;
                const animType = animations[Math.floor(Math.random() * animations.length)];
                const animDuration = Math.random() * 15 + 10;
                const animDelay = Math.random() * 5;
                const color = starColors[Math.floor(Math.random() * starColors.length)];

                star.classList.add('star', color);
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${left}%`;
                star.style.top = `${top}%`;
                star.style.animation = `${animType} ${animDuration}s ease-in-out infinite`;
                star.style.animationDelay = `${animDelay}s`;

                star.innerHTML = `
                    <svg viewBox="0 0 24 24" class="w-full h-full fill-current">
                        <path d="M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"/>
                    </svg>
                `;

                container.appendChild(star);
            }
        }

        // Contador regresivo
        function updateCountdown() {
            const targetDate = new Date("April 19, 2025 16:00:00").getTime();
            const now = new Date().getTime();
            const difference = targetDate - now;

            if (difference > 0) {
                const days = Math.floor(difference / (1000 * 60 * 60 * 24));
                const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((difference % (1000 * 60)) / 1000);

                document.getElementById("days").innerText = days.toString().padStart(2, '0');
                document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
                document.getElementById("minutes").innerText = minutes.toString().padStart(2, '0');
                document.getElementById("seconds").innerText = seconds.toString().padStart(2, '0');
            }
        }


        // Variables para los mapas
        let smallMap, largeMap;

        // Función para inicializar el mapa usando Advanced Markers
        async function initMap() {
            const { AdvancedMarkerElement } = await google.maps.importLibrary("marker");

            const mapOptions = {
                zoom: 16,
                center: { lat: -6.065564, lng: -77.165384 },
                mapTypeId: "roadmap",
                mapId: "edaf:1076254527360" // Tu Map ID real
            };

            // Mapa pequeño
            smallMap = new google.maps.Map(document.getElementById("map"), mapOptions);

            new AdvancedMarkerElement({
                map: smallMap,
                position: { lat: -6.065564, lng: -77.165384 },
                title: "Ubicación de la fiesta"
            });

            // Hacer el mapa pequeño clickeable
            document.getElementById('map').addEventListener('click', openMapModal);
            document.getElementById('map').style.cursor = 'pointer';
        }

        // Funciones para el modal
        async function openMapModal() {
            const { AdvancedMarkerElement } = await google.maps.importLibrary("marker");

            document.getElementById('map-modal').classList.remove('hidden');

            if (!largeMap) {
                const location = smallMap.getCenter();
                const mapOptions = {
                    zoom: 16,
                    center: location,
                    mapTypeId: "roadmap",
                    mapId: "edaf:1076254527360", // Usa el mismo Map ID que en initMap()
                    // ⚠️ Elimina "styles" si configuraste los estilos en Google Cloud Console
                };

                largeMap = new google.maps.Map(document.getElementById("large-map"), mapOptions);

                new AdvancedMarkerElement({
                    map: largeMap,
                    position: location,
                    title: "Ubicación de la fiesta"
                });
            } else {
                largeMap.setCenter(smallMap.getCenter());
                largeMap.setZoom(smallMap.getZoom());
            }
        }

        // Cargar la API de Google Maps (actualizada)
        function loadGoogleMaps() {
            // Verificar si ya está cargada
            if (window.google?.maps) return;

            const script = document.createElement('script');
            script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&loading=async&libraries=marker&callback=initMap`;
            script.async = true;
            script.onerror = () => console.error('Error al cargar Google Maps API');
            document.body.appendChild(script);
        }

        // Event listeners (manteniendo tu implementación actual)
        document.addEventListener('DOMContentLoaded', function () {
            createBubbles();
            createStars();
            updateCountdown();
            setInterval(updateCountdown, 1000);
            loadGoogleMaps();
        });

        function closeMapModal() {
            document.getElementById('map-modal').classList.add('hidden');
        }

        // Funciones para el modal de imágenes
        function openImageModal(imageSrc) {
            const modal = document.getElementById('image-modal');
            const modalImg = document.getElementById('modal-image');

            modalImg.src = imageSrc;
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // Evita el scroll del fondo
        }

        function closeImageModal() {
            document.getElementById('image-modal').classList.add('hidden');
            document.body.style.overflow = ''; // Restaura el scroll
        }

        // Cerrar modal al hacer clic fuera de la imagen
        document.getElementById('image-modal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeImageModal();
            }
        });

        // Cerrar con tecla ESC
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape' && !document.getElementById('image-modal').classList.contains('hidden')) {
                closeImageModal();
            }
        });

        // Soporte para touch en móviles
        document.querySelectorAll('.cursor-pointer').forEach(item => {
            item.addEventListener('touchend', function (e) {
                e.preventDefault();
                const imgSrc = this.querySelector('img').src.split('/').pop();
                openImageModal(imgSrc);
            });
        });

        // Espera a que la página cargue
        document.addEventListener('DOMContentLoaded', function () {
            const audio = document.getElementById('fiestaAudio');
            const audioControl = document.getElementById('audioControl');
            const audioIcon = document.getElementById('audioIcon');
            const audioText = document.getElementById('audioText');

            // Configuración inicial
            audio.volume = 0.7;
            let isPlaying = false;
            let audioEnabled = false;

            // Función para toggle audio
            const toggleAudio = () => {
                if (!audioEnabled) {
                    // Primera activación (requiere interacción)
                    audio.play()
                        .then(() => {
                            audioEnabled = true;
                            isPlaying = true;
                            updateUI();
                        })
                        .catch(error => {
                            console.error("Error al activar audio:", error);
                            audioText.textContent = "Toca para permitir audio";
                        });
                } else {
                    // Mute/Unmute después de la primera activación
                    isPlaying = !isPlaying;
                    audio.muted = !isPlaying;
                    updateUI();
                }
            };

            // Actualizar interfaz
            const updateUI = () => {
                audioIcon.textContent = isPlaying ? '🔊' : '🔇';
                audioText.textContent = isPlaying ? 'Música ON' : 'Música OFF';
            };

            // Eventos para PC y móvil
            const handleInteraction = (e) => {
                e.preventDefault();
                toggleAudio();
            };

            // Manejadores combinados
            audioControl.addEventListener('click', handleInteraction);
            audioControl.addEventListener('touchend', handleInteraction);

            // Preparación para iOS (requiere primer toque "vacío")
            document.body.addEventListener('touchstart', function firstTouch() {
                // Solo necesario en iOS
                if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    audio.play().then(() => {
                        audio.pause();
                        audio.currentTime = 0;
                    });
                }
                document.body.removeEventListener('touchstart', firstTouch);
            }, { once: true });
        });


    </script>

</body>

</html>